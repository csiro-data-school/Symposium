<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1">

<script type="text/javascript" src="https://code.jquery.com/jquery-3.4.1.slim.min.js"></script>

<!--
Font-awesome icons ie github or twitter
-->
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/brands.css" integrity="sha384-n9+6/aSqa9lBidZMRCQHTHKJscPq6NW4pCQBiMmHdUCvPN8ZOg2zJJTkC7WIezWv" crossorigin="anonymous">

<!--
Google fonts api stuff
-->
<link href='https://fonts.googleapis.com/css?family=Calibri' rel='stylesheet'>
<link href='https://fonts.googleapis.com/css?family=Calibri' rel='stylesheet'>

<meta name="author" content="Emmett Leyne" />

<title>A pipeline to OzWheat joy</title>

<script src="OzWheat_files/htmlwidgets-1.3/htmlwidgets.js"></script>
<script src="OzWheat_files/viz-0.3/viz.js"></script>
<link href="OzWheat_files/DiagrammeR-styles-0.2/styles.css" rel="stylesheet" />
<script src="OzWheat_files/grViz-binding-1.0.1/grViz.js"></script>





<style>
@page {
size: 841mm 1189mm;
margin: 0;
padding: 0;
}
body {
margin: 0;
font-size: 32pt;
width: 841mm;
height: 1189mm;
padding: 0;
text-align: justify;
font-family: Calibri;
background-image: url(resources/background/poster-teal.svg);
background-size: cover;
background-repeat: no-repeat;
}
.poster_wrap {
width: 841mm;
height: 1189mm;
padding: 0cm;
}
.title_container {
width: 841mm;
height: calc(1189mm * 0.145);
text-align: left;
overflow: hidden;
color: #ffffff;
}
.poster_title {
text-align: ;
position: relative;
float: left;
height: 100%;
margin-left: 5%;
margin-right: 5%;
margin-top: 6%;

}
.poster_body {
-webkit-column-count: 2; /* Chrome, Safari, Opera */
-moz-column-count: 2; /* Firefox */
column-count: 2;
-webkit-column-fill: auto;
-moz-column-fill: auto;
column-fill: auto;
-webkit-column-rule-width: ;
-moz-column-rule-width: ;
column-rule-width: ;
-webkit-column-rule-style: ;
-moz-column-rule-style: ;
column-rule-style: ;
-webkit-column-rule-color: ;
-moz-column-rule-color: ;
column-rule-color: ;
width: 100%;
height: 100%;
color: ;
}
.poster_title h1 {
font-size: 140pt;
margin: 0;
border: 0;
height: 45%;
font-weight: normal;
}
.poster_title h2 {
font-size: 50pt;
margin: 0;
border: 0;
font-weight: normal;
}
.poster_body_wrap{
position: absolute;
top: calc(1189mm * 0.24);
width: 90%;
height: calc(1189mm * 0.65);
padding-top: calc(1189mm * 0.01);
padding-bottom: calc(1189mm * 0.01);
margin-left: 5%;
margin-right: 5%;
}
.poster_title h3 {
font-size: 28pt;
margin: 0;
border: 0;
margin-bottom: 1%;
font-weight: normal;
}

.poster_title h3 strong {
  text-decoration: underline;
}

.poster_title h5 {
font-size: 28pt;
margin: 0;
border: 0;
font-weight: normal;
}
.BU_block a {
  text-decoration: none;
}
#BU_link {
  margin: 0px 5%;
  color: ;
  font-size: 34pt;
  font-weight: bold;
}
#BU {
  text-transform: uppercase;
  margin: 22px 5% -4px 5%;
  color: #ffffff;
  font-size: 38pt;
  font-weight: bold;
}
.introduction {
  margin-top: 2%;
  margin-left: 5%;
  margin-right: 17%;
  font-size: 40pt;
  display: flex;
  align-items: center;
}
.introduction p{
  margin-bottom: 0;
  margin-top: 0;
}
img {
  margin-bottom: 0;
  margin-left: auto;
  margin-right: auto;
  display: block;

}
.section {
  padding: 0.2em;
}
.poster_body h1 {
font-size: 60pt;
margin-top: 2mm;
margin-bottom: 2mm;
font-weight: bold;
}
.poster_body h2 {
color: ;
font-size: 44pt;
font-weight: bold;
}
.span h1 {
text-align: center;
color: #ffffff;
font-size: 50pt;
border: 2mm solid yellow;
background-color: yellow;
border-radius: 4mm 0mm;
margin-top: 5mm;
margin-bottom: 5mm;
padding-top: 5mm;
padding-bottom: 5mm;
width: 100%
}
.span {
background-color: red;
width: 200%;
position:relative;
}
/* center align leaflet map,
from https://stackoverflow.com/questions/52112119/center-leaflet-in-a-rmarkdown-document */
.html-widget {
margin: auto;
position: sticky;
margin-top: 2cm;
margin-bottom: 2cm;
}
.leaflet.html-widget.html-widget-static-bound.leaflet-container.leaflet-touch.leaflet-fade-anim.leaflet-grab.leaflet-touch-drag.leaflet-touch-zoom {
position: sticky;
width: 100%;
}
pre.sourceCode.r {
background-color: #dddddd40;
border-radius: 4mm;
padding: 4mm;
width: 75%;
/* align-items: center; */
margin: auto;
padding-left: 2cm;
}
code.sourceCode.r{
background-color: transparent;
font-size: 20pt;
border-radius: 2mm;
}
.caption {
font-size: 25pt;
}
.table caption {
font-size: 25pt;
padding-bottom: 3mm;

}
code {
font-size: 25pt;
font-family: monospace;
padding: 1.2mm;
border-radius: 2mm;
}
table {
font-size: 40px;
margin: auto;
border-top: 3px solid #666;
border-bottom: 3px solid #666;
}
table thead th {
border-bottom: 3px solid #ddd;
}
td {
padding: 8px;
}
th {
padding: 15px;
}
caption {
margin-bottom: 10px;
}
.poster_body p {
margin-top: 4mm;
margin-bottom: 6mm;
margin-right: 6mm;
}
.poster_body ol {
margin-right: 4mm;
margin-left: 4mm;
}
#ul {
margin-right: 4mm;
margin-left: 4mm;
}

.level2 {
  padding: 0;
}
.references p {
font-size: 20pt;
}
 
#new_refs {
  margin-top: 91%;
  margin-left: 5%;
  margin-right: 5%;
  
}

#new_refs h1 {
  font-size: 32pt;
  text-transform: uppercase;
}

#new_refs p {
  font-size: 26pt;
}

.chal_text {
  column-count: 3;
}

.chal_text p {
   margin-top: 0;
}

#affiliation i {
  vertical-align: text-bottom;
}

#affiliation a {
  text-decoration: none;
  color: #ffffff;
}

.photo {
  float: left;
  margin-right: 2%;
  height: 170px;
  border-radius: 50%;
}
</style>


<link rel="stylesheet" href="resources/css/teal.css" type="text/css" />

</head>
<body>


<div class="poster_wrap">

<div class="title_container">

<!-- Poster Title -->
<div class= "poster_title">
<h1 id="title">A pipeline to OzWheat joy</h1>
<h2 id="subtitle"></h2>
<h3 id="author">Emmett Leyne</h3>
<h5 id="affiliation"><i class='fab fa-github'></i> <a href="www.github.com/EPLeyne/DS_SynthesisProject">www.github.com/EPLeyne/DS_SynthesisProject</a> </h5>

</div>
</div>
<div class="BU_block">
  <p id="BU">Agriculture and Food</p>
  <p id="BU_link"><a href="http://www.csiro.au">www.csiro.au</a></p>
</div>
<div id="new_intro" class="introduction">
  <img class='photo' src="resources/img/ELpic.jpg">
</div>

<div class='poster_body_wrap'>
<div class='poster_body'>
<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p>I am a Research Technician from Agriculture and Food in the Cereal Genomics Program.
Before Data School I was primarily in the world of ‘Data Production’ in the molecular biology field working with DNA and RNA.
I manage the High Throughput Genomics Facility and am Data Custodian for the OzWheat project.
I was self taught in R and Python coding but could only do a small amount.</p>
</div>
<div id="my-synthesis-project" class="section level1">
<h1>My Synthesis Project</h1>
<p>The OzWheat Diversity Panel is a collection of 289 lines of wheat that are historically important in Australia.
The OzWheat project aims to harness the big data of crop genomics and machine learning to predict yields.
As part of the OzWheat project RNA is extracted from all samples across the panel from multiple sites and growing conditions, and sequenced.
My Data School synthesis project was to automate the process of sequence analysis to knit the tools together in one easy pipeline.
The goal was to be able to run the entire pipeline with three inputs: the raw data file location, the project name and a CSIRO ident.
The raw data were the RNA sequence data of a small pilot trial conducted in 2016.
The approach is to build a master batch file that will hold all the variables and call the separate scripts for the individual tools.</p>
</div>
<div id="my-digital-toolbox" class="section level1">
<h1>My Digital Toolbox</h1>
<ul>
<li>Python</li>
<li>HPC</li>
<li>Shell/Bash</li>
</ul>
<div id="favourite-tool" class="section level2">
<h2>Favourite tool</h2>
<p>Even though I haven’t used it in the project my favourite tool is R and the Tidyverse.
The syntax of R is much easier for me, although I find Python better for non-statistical purposes.</p>
</div>
</div>
<div id="my-time-went" class="section level1">
<h1>My time went …</h1>
<p>Too fast, there were a few speed bumps along the way that really slowed me down. I learned that I like the parts that other’s don’t like data munging
and error solving, but I can get fixated on those if I let it.
The most difficult step was to create lists of files in certain formats for each tool that was used in the pipeline. I ended up having to re-write major
parts of the working script to do it.
A lot of mental energy went into deciding how to manage the data, especially once I recognised the size of the files that were outputted by the scripts.
I would have also liked to have completed some data analysis.</p>
</div>
<div id="next-steps" class="section level1">
<h1>Next steps</h1>
<ul>
<li>To complete the pipeline and integrate existing pipeline methods such as SnakeMate.</li>
<li>Make the pipeline more flexible by giving researchers options of which tool they would like to use.</li>
<li>Complete the Data Charter for the OzWheat project using the Tidy data lessons from Data School.</li>
</ul>
<p><br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/></p>
<p><strong>Pipeline</strong></p>
<p>The pipeline of the sequence analysis with the green folders representing the inputs, the blue circles are the programs on the HPC used and the red folders are the outputs.</p>
<div id="workflow-of-ozwheat-pipeline" class="section level4">
<h4>Workflow of OzWheat Pipeline</h4>
<div id="htmlwidget-26a7a20b5db95d7c806a" style="width:80%;height:3000px;" class="grViz html-widget"></div>
<script type="application/json" data-for="htmlwidget-26a7a20b5db95d7c806a">{"x":{"diagram":"\n digraph boxes_and_circles {\n\n   # a \"graph\" statement\n   graph [overlap = true, fontsize = 50]\n\n   # several \"node\" statements\n   node [shape = folder,\n         fontname = Helvetica,\n         fontsize = 50,\n         style = filled,\n         fillcolor = YellowGreen]\n   \"raw seq\"; \"reference genome\"\n\n   node [shape = oval,\n         fontname = Helvetica,\n         style = filled,\n         fillcolor = Gold2]\n   \"filenames.csv\"; \"split_filenames.txt\"\n\n   node [shape = folder,\n         fillcolor = red,\n         fontname = Helvetica]\n   \"quality scores\"; \"Denovo reads\"; \"Denovo results\"; \"SNP assembly\"\n\n   node [shape = circle,\n         fillcolor = LightSteelBlue2]\n   trimmomatic; fastqc; trinity; bowtie1; bowtie2; star; GATK\n   \n   node [shape = box,\n        fillcolor = DarkOrange2,\n        fontname = Helvetica]\n   \"Denovo Assembly\"; SNP\n\n   # \"edge\" statements\n  \"raw seq\" -> {fastqc \"filenames.csv\" \"split_filenames.txt\"}\n  fastqc -> {trimmomatic \"quality scores\" \"Denovo Assembly\"}\n  trimmomatic -> fastqc\n\"Denovo Assembly\" -> trinity\ntrinity -> \"Denovo reads\"\ntrinity -> bowtie1\n\"reference genome\" -> bowtie1\nbowtie1 -> \"Denovo results\"\ntrimmomatic -> SNP\nSNP -> bowtie2\nSNP -> star\nbowtie2 -> GATK\nGATK -> \"SNP assembly\"\nstar -> GATK\n\"filenames.csv\" -> fastqc\n\"split_filenames.txt\" -> trinity\n\n }\n ","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="connections-from-the-master-file-to-the-tools" class="section level4">
<h4>Connections from the master file to the tools</h4>
<div id="htmlwidget-06a078d9ccd66f74b2f7" style="width:80%;height:3000px;" class="grViz html-widget"></div>
<script type="application/json" data-for="htmlwidget-06a078d9ccd66f74b2f7">{"x":{"diagram":"\n      digraph boxes_and_circles {\n      \n      # a \"graph\" statement\n      graph [overlap = true, fontsize = 10]\n      \n      # several \"node\" statements\n      node [shape = oval,\n      fontname = Helvetica,\n      fixedsize = true,\n      style = filled,\n      fillcolor = YellowGreen]\n      \"boss_batch.sh\"\n      \n      node [shape = circle,\n      fontname = Helvetica,\n      style = filled,\n      fillcolor = Gold2]\n      \"filenames.py\"\n      \n      node [shape = circle,\n      fillcolor = red,\n      fontname = Helvetica]\n      \"fastqc.sh\"; \"trim.sh\"; \"trinity.sh\"; \"bowtie.sh\"; \"star.sh\"; \"gatk.sh\"\n      \n      # \"edge\" statements\n      \"boss_batch.sh\"->{\"filenames.py\" \"fastqc.sh\" \"trim.sh\" \"trinity.sh\" \"bowtie.sh\" \"star.sh\"}\n      \"filenames.py\" -> {\"fastqc.sh\" \"trinity.sh\"}\n      \"fastqc.sh\" -> {\"trim.sh\" \"trinity.sh\"}\n      \"trim.sh\" -> {\"bowtie.sh\" \"star.sh\"}\n      {\"bowtie.sh\" \"star.sh\"} -> \"gatk.sh\"\n      }\n      ","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="my-data-school-experience" class="section level1">
<h1>My Data School Experience</h1>
<p>Before the Data School my data skills were based on Excel, Excel, Excel, and in all my projects all data management was based on the discretion of individual staff members. Data loccations, file names and variable names were an eccentric mix across all the people in a project.</p>
<p>Since Data School and in an external collaboration with NPI I managed the field trials in R instead of Excel as I would have previously. This decision has paid off many times as the external collaborators repeatedly asked for changes to be made or sent me new data for field trials and I was able to make the changes very quickly.</p>
<p>I have also been made the data custodian of the OzWheat project and have created a Data Charter from the lessons in Data School that define all aspects of the data collection including file names and locations, standardised variable names, date formats, etc. This Charter has since been used by the AF Digital Coordinator as an example for other projects and can be directly attributable to the Data School.</p>
</div>
</div>
</div>
<div id="new_refs">
</div>
</div>


<script type="text/javascript" src="resources/js/move_sections.js"></script>


</body>
</html>
